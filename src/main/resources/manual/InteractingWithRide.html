<html lang="en">
<head>
    <title>Interacting with Ride</title>
</head>
<body>
<h1>Interacting with Ride</h1>
Ride injects an inout component into the session.<br/>
<br/>
It is defined as follows:<br/>

<h4>Display images in the Plot tab</h4>
<div class="codeblock">
    <div class="comment">
    /**<br/>
    * display an image in the Plot tab<br/>
    */
    </div>
    <span class="keyword">void</span> display(Node node, String... title);<br/>
</div>

<div class="codeblock">
    <div class="comment">
    /**<br/>
    * display an image in the Plot tab<br/>
    */
    </div>
    <span class="keyword">void</span> display(Image img, String... title);<br/>
</div>
Here is an example; also showing the use of rideutils (readImage) which is always awailable in Ride:<br/>
<div class="codeblock">
    <span class="keyword">library</span>(<span class="string">"grDevices"</span>)<br/>
    <span class="keyword">library</span>(<span class="string">"graphics"</span>)<br/>
    <span class="comment"># rideutils provides ways to bridge over from R to Java to be able to interact with the IDE</span><br/>
    library(<span class="string">"se.alipsa:rideutils"</span>)
    <br/>
    <span class="comment"># plot a svg image to a file</span><br/>
    fileName <- <span class="string">"/tmp/svgplot.svg"</span><br/>
    svg(fileName)<br/>
    plot(sin, -pi, 2*pi)<br/>
    <br/>
    dev.off()<br/>
    <br/>
    <span class="comment"># convert the image to a a javafx Image and display it in ride, the second argument is the title of the window (optional)</span><br/>
    inout$display(readImage(fileName), <span class="string">"svgplot"</span>)<br/>
</div>

<h4>Display tabular data in the View tab</h4>
<div class="codeblock">
    <div class="comment">
        /**<br/>
        * display data in the Viewer tab, e.g. list, data.frame, matrix<br/>
        */
    </div>
    <span class="keyword">void</span> View(SEXP sexp, String... title);<br/>
</div>
Here is an example:<br/>
<div class="codeblock">
    <span class="comment"># read a csv file into a data.frame</span><br/>
    df <- read.csv(<span class="string">"/tmp/sample.csv"</span>)<br/>
    inout$View(df)<br/>
    <br/>
    <span class="comment"># if you use the rideutils library you can simplify it to</span><br/>
    library(<span class="string">"se.alipsa:rideutils"</span>)<br/>
    View(df)<br/>
</div>

<h4>File and dir contexts</h4>
<div class="codeblock">
    <div class="comment">
    /** Return the current active script file or null if is has not been saved yet */
    </div>
    String scriptFile();<br/>
</div>
Here is an example:<br/>
<div class="codeblock">
    dir <- dirname(inout$scriptFile())<br/>
    file <- paste0(dir, <span class="string">"/test.csv"</span>)<br/>
    write.csv(mtcars, file)<br/>
</div>

<h4>Use the connections defined in the connections tab</h4>
<div class="codeblock">
    <div class="comment">
        /** Return a connections for the name defined in Ride */
    </div>
    ConnectionInfo connection(String name);<br/>
</div>
The ConnectionInfo object contains the information you see in the connections tab i.e. name, url, username, password.
Here is an example:<br/>
<div class="codeblock">
    testCon <- inout$connection(<span class="string">"test"</span>)<br/>
    con <- dbConnect(JDBC(testCon$getDriver()),<br/>
    &nbsp;&nbsp;url = testCon$getUrl(),<br/>
    &nbsp;&nbsp;user = testCon$getUser(),<br/>
    &nbsp;&nbsp;password = testCon$getPassword()<br/>
    )<br/>
</div>
</body>
</html>